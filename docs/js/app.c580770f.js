(function(e){function t(t){for(var n,c,a=t[0],l=t[1],s=t[2],d=0,p=[];d<a.length;d++)c=a[d],o[c]&&p.push(o[c][0]),o[c]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(p.length)p.shift()();return r.push.apply(r,s||[]),i()}function i(){for(var e,t=0;t<r.length;t++){for(var i=r[t],n=!0,a=1;a<i.length;a++){var l=i[a];0!==o[l]&&(n=!1)}n&&(r.splice(t--,1),e=c(c.s=i[0]))}return e}var n={},o={app:0},r=[];function c(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,c),i.l=!0,i.exports}c.m=e,c.c=n,c.d=function(e,t,i){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(c.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(i,n,function(t){return e[t]}.bind(null,n));return i},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=t,a=a.slice();for(var s=0;s<a.length;s++)t(a[s]);var u=l;r.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"034f":function(e,t,i){"use strict";var n=i("64a9"),o=i.n(n);o.a},"1d4b":function(e,t){var i=[{id:"directions-route-line-alt",type:"line",source:"directions",layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#bbb","line-width":4},filter:["all",["in","$type","LineString"],["in","route","alternate"]]},{id:"directions-route-line-casing",type:"line",source:"directions",layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#2d5f99","line-width":10,"line-opacity":.2,"line-blur":2},filter:["all",["in","$type","LineString"],["in","route","selected"]]},{id:"directions-route-line",type:"line",source:"directions",layout:{"line-cap":"butt","line-join":"round"},paint:{"line-color":{property:"congestion",type:"categorical",default:"#4882c5",stops:[["unknown","#4882c5"],["low","#4882c5"],["moderate","#f09a46"],["heavy","#e34341"],["severe","#8b2342"]]},"line-width":4,"line-opacity":.3}},{id:"directions-hover-point-casing",type:"circle",source:"directions",paint:{"circle-radius":8,"circle-color":"#fff"},filter:["all",["in","$type","Point"],["in","id","hover"]]},{id:"directions-hover-point",type:"circle",source:"directions",paint:{"circle-radius":6,"circle-color":"#3bb2d0"},filter:["all",["in","$type","Point"],["in","id","hover"]]},{id:"directions-waypoint-point-casing",type:"circle",source:"directions",paint:{"circle-radius":8,"circle-color":"#fff"},filter:["all",["in","$type","Point"],["in","id","waypoint"]]},{id:"directions-waypoint-point",type:"circle",source:"directions",paint:{"circle-radius":6,"circle-color":"#8a8bc9"},filter:["all",["in","$type","Point"],["in","id","waypoint"]]},{id:"directions-origin-point",type:"circle",source:"directions",paint:{"circle-radius":8,"circle-color":"#3bb2d0"},filter:["all",["in","$type","Point"],["in","marker-symbol","A"]]},{id:"directions-origin-label",type:"symbol",source:"directions",layout:{"text-field":"A","text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-size":8},paint:{"text-color":"#fff"},filter:["all",["in","$type","Point"],["in","marker-symbol","A"]]},{id:"directions-destination-point",type:"circle",source:"directions",paint:{"circle-radius":8,"circle-color":"#8a8bc9"},filter:["all",["in","$type","Point"],["in","marker-symbol","B"]]},{id:"directions-destination-label",type:"symbol",source:"directions",layout:{"text-field":"B","text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-size":8},paint:{"text-color":"#fff"},filter:["all",["in","$type","Point"],["in","marker-symbol","B"]]}];e.exports=i},"56d7":function(e,t,i){"use strict";i.r(t);i("cadf"),i("551c"),i("097d");var n=i("2b0e"),o=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},r=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("div",{attrs:{id:"map"}})])}],c=(i("ac6a"),i("e192")),a=i.n(c),l=i("a2bb"),s=i.n(l),u=i("ed87"),d=(i("faac"),i("02e7")),p=(s.a,{name:"app",components:{},mounted:function(){b()}});function f(e,t){var i=new Blob([t],{type:"text/csv"});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(i,e);else{var n=window.document.createElement("a");n.href=window.URL.createObjectURL(i),n.download=e,document.body.appendChild(n),n.click(),document.body.removeChild(n)}}function y(e){return console.log(e),"HAHA"}function m(e){console.log(e),console.log(map.getSource("directions")._data),document.getElementsByClassName("mapbox-directions-instructions")[0].innerHTML='\n    <a href="#" onClick="downloadGpx()">Download route as GPX</a>.\n    '}function b(){a.a.accessToken="pk.eyJ1Ijoic3RldmFnZSIsImEiOiJGcW03aExzIn0.QUkUmTGIO3gGt83HiRIjQw";var e=new a.a.Map({container:"map",style:"mapbox://styles/stevage/cjopcl1j9555x2rt298enfwhf",center:[144.47665,-36.84796],zoom:10});window.map=e;var t=new s.a({accessToken:a.a.accessToken,unit:"metric",profile:"mapbox/cycling",compile:y,styles:i("1d4b"),flyTo:!1});t.on("route",m),e.addControl(t,"top-left");var n=[],o={};e.on("styledata",function(t){console.log(t);var i=e.getStyle();if(0===n.length&&i.sources["directions"])n=i.layers.filter(function(e){return"directions"===e.source}),o=i.sources["directions"],window.directionsLayers=n;else if(n.length>0){t.style.stylesheet;e.getSource("directions")||(e.getSource("directions")||e.addSource("directions",o),n.forEach(function(t){e.getLayer(t)||e.addLayer(t)}))}});var r=i("9e77"),c=[{title:"Outdoors",uri:"mapbox://styles/stevage/cjopcl1j9555x2rt298enfwhf"},{title:"Light",uri:"mapbox://styles/mapbox/light-v9"},{title:"Old cycletour",uri:r.oldCycletour},{title:"New cycletour",uri:"mapbox://styles/stevage/cjqvz0wgj08k32sukjlngs77n"},{title:"VicMap",uri:r.vicmap}];e.addControl(new u["MapboxStyleSwitcherControl"](c)),window.map=e}window.downloadGpx=function(){var e={type:"FeatureCollection",features:map.getSource("directions")._data.features.filter(function(e){return"LineString"===e.geometry.type}).map(function(e){return e.type="Feature",e})},t=d(e);f("route.gpx",t)},i("ac6d"),i("bbe2");var g=p,v=(i("034f"),i("2877")),w=Object(v["a"])(g,o,r,!1,null,null,null);w.options.__file="App.vue";var x=w.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(e){return e(x)}}).$mount("#app")},"64a9":function(e,t,i){},"9e77":function(e,t,i){"use strict";i.r(t),function(e){i("cadf"),i("551c"),i("097d");e.exports={vicmap:{version:8,sources:{tiles:{type:"raster",tiles:["https://base.maps.vic.gov.au/service?layer=CARTO_WM&style=default&tilematrixset=EPSG%3A3857&Service=WMTS&Request=GetTile&Version=1.0.0&Format=image%2Fpng&TileMatrix={z}&TileCol={x}&TileRow={y}"],scheme:"tms"}},layers:[{id:"tiles",source:"tiles",type:"raster",paint:{"raster-resampling":"nearest"}}]},oldCycletour:{version:8,sources:{"mapbox://stevage.2xuscm8g":{url:"mapbox://stevage.2xuscm8g",type:"raster",tileSize:128}},sprite:"mapbox://sprites/stevage/cjqkcw8mw2ym32smvt9wsh4c4",glyphs:"mapbox://fonts/stevage/{fontstack}/{range}.pbf",layers:[{id:"background",type:"background",paint:{"background-color":"rgba(0,0,0,0)"}},{type:"raster",paint:{"raster-resampling":"nearest"},layout:{},id:"stevage-2xuscm8g",source:"mapbox://stevage.2xuscm8g"}]}}}.call(this,i("dd40")(e))}});
//# sourceMappingURL=app.c580770f.js.map